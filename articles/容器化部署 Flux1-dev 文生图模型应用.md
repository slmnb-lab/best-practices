# å®¹å™¨åŒ–éƒ¨ç½² Flux.1-dev æ–‡ç”Ÿå›¾æ¨¡å‹åº”ç”¨

æœ¬æŒ‡å—è¯¦ç»†é˜è¿°äº†åœ¨å…±ç»©ç®—åŠ›ä¸Šéƒ¨ç½² Flux.1-dev æ¨¡å‹åº”ç”¨çš„è§£å†³æ–¹æ¡ˆã€‚

ğŸ‹

é‰´äº Serverless ç±»å‹çš„å¹³å°å…·å¤‡å¤šèŠ‚ç‚¹ç‰¹æ€§ï¼Œä»ä¸“ä¸šè§’åº¦å‡ºå‘ï¼Œå¼ºçƒˆä¸å»ºè®®å°† Web UI ç”¨äºç”Ÿäº§ç¯å¢ƒã€‚åœ¨ç”Ÿäº§åœºæ™¯ä¸­ï¼Œä½¿ç”¨ API æ˜¯æ›´ä¸ºé€‚å®œçš„é€‰æ‹©ã€‚æ­¤é•œåƒå·²é›†æˆå°è£…å¥½çš„ APIï¼Œä»¥ä¾¿äºæ‚¨ä¾¿æ·ä½¿ç”¨ã€‚

## 1 å¼€æºæ¡ˆä¾‹

Section titled â€œ1 å¼€æºæ¡ˆä¾‹â€

æˆ‘ä»¬åŸºäºæœ¬æ•™ç¨‹å¼€æºäº†ä¸€å¥—å‰ç«¯ Flux.1-dev æ–‡ç”Ÿå›¾æœåŠ¡ç½‘ç«™è§£å†³æ–¹æ¡ˆã€‚

å…·æœ‰å®Œæ•´çš„ Docker&Serverless åŒ–éƒ¨ç½²æ–¹æ¡ˆï¼Œæ‚¨å¯ä»¥å‚è€ƒä½¿ç”¨ã€‚

é¡¹ç›®åœ°å€ï¼š<https://github.com/slmnb-lab/FluxEz>

![](/assets/DOtAbHnnjoY1FexjRyTcC7B5nqg.png)

## 2 éƒ¨ç½²æ­¥éª¤

Section titled â€œ2 éƒ¨ç½²æ­¥éª¤â€

æˆ‘ä»¬æä¾›äº†æ„å»ºå®Œæ¯•çš„ Flux é•œåƒå¯ä»¥ç›´æ¥éƒ¨ç½²ä½¿ç”¨ã€‚

ä¸‹é¢æ˜¯éƒ¨ç½²æ­¥éª¤ï¼š

### 2.1 è®¿é—®å…±ç»©ç®—åŠ›æ§åˆ¶å° [https://console.suanli.cnï¼Œç‚¹å‡»æ–°å¢éƒ¨ç½²ã€‚](https://console.suanli.cn%EF%BC%8C%E7%82%B9%E5%87%BB%E6%96%B0%E5%A2%9E%E9%83%A8%E7%BD%B2%E3%80%82)

Section titled â€œ2.1 è®¿é—®å…±ç»©ç®—åŠ›æ§åˆ¶å° https://console.suanli.cnï¼Œç‚¹å‡»æ–°å¢éƒ¨ç½²ã€‚â€

![](/assets/EipSbc4T7osHzbxuYnQcDanInVf.png)

### 2.2 åŸºäºè‡ªèº«éœ€è¦è¿›è¡Œé…ç½®ï¼Œå‚è€ƒé…ç½®ä¸ºå•å¡ 4090 å’Œ 1 ä¸ªèŠ‚ç‚¹ï¼ˆåˆæ¬¡ä½¿ç”¨è¿›è¡Œè°ƒè¯•ï¼‰ã€‚

Section titled â€œ2.2 åŸºäºè‡ªèº«éœ€è¦è¿›è¡Œé…ç½®ï¼Œå‚è€ƒé…ç½®ä¸ºå•å¡ 4090 å’Œ 1 ä¸ªèŠ‚ç‚¹ï¼ˆåˆæ¬¡ä½¿ç”¨è¿›è¡Œè°ƒè¯•ï¼‰ã€‚â€

![](/assets/SUXFbPbqToK0M8x1iBpcQqZQnOb.png)

### 2.3 é€‰æ‹©ç›¸åº”é¢„åˆ¶é•œåƒ

Section titled â€œ2.3 é€‰æ‹©ç›¸åº”é¢„åˆ¶é•œåƒâ€

![](/assets/Eea9buPubou6fzxLUk6cGgmQnzf.png)

### 2.4 ç‚¹å‡»éƒ¨ç½²æœåŠ¡ï¼Œè€å¿ƒç­‰å¾…èŠ‚ç‚¹æ‹‰å–é•œåƒå¹¶å¯åŠ¨ã€‚

Section titled â€œ2.4 ç‚¹å‡»éƒ¨ç½²æœåŠ¡ï¼Œè€å¿ƒç­‰å¾…èŠ‚ç‚¹æ‹‰å–é•œåƒå¹¶å¯åŠ¨ã€‚â€

![](/assets/FtUabjU8Qo39acxkPotcM0nnnjT.png)

### 2.5 èŠ‚ç‚¹å¯åŠ¨åï¼Œä½ æ‰€åœ¨â€œä»»åŠ¡è¯¦æƒ…é¡µâ€ä¸­çœ‹åˆ°çš„å†…å®¹å¯èƒ½å¦‚ä¸‹ï¼š

Section titled â€œ2.5 èŠ‚ç‚¹å¯åŠ¨åï¼Œä½ æ‰€åœ¨â€œä»»åŠ¡è¯¦æƒ…é¡µâ€ä¸­çœ‹åˆ°çš„å†…å®¹å¯èƒ½å¦‚ä¸‹ï¼šâ€

![](/assets/K3cybT2kEotPwMx3NRScmSKgn3d.png)

### 2.6 æˆ‘ä»¬å¯ä»¥ç‚¹å‡»å¿«é€Ÿè®¿é—®ä¸‹æ–¹â€œ8188â€ç«¯å£çš„é“¾æ¥ï¼Œæµ‹è¯• comfyui éƒ¨ç½²æƒ…å†µ

Section titled â€œ2.6 æˆ‘ä»¬å¯ä»¥ç‚¹å‡»å¿«é€Ÿè®¿é—®ä¸‹æ–¹â€œ8188â€ç«¯å£çš„é“¾æ¥ï¼Œæµ‹è¯• comfyui éƒ¨ç½²æƒ…å†µâ€

ç³»ç»Ÿä¼šè‡ªåŠ¨åˆ†é…ä¸€ä¸ªå¯å…¬ç½‘è®¿é—®çš„åŸŸåï¼Œç‚¹å‡» 8188 ç«¯å£çš„é“¾æ¥ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å³å¯è‡ªç”±åœ°é€šè¿‡ä½¿ç”¨å·¥ä½œæµåœ¨ comfyui ä¸­ä½¿ç”¨ Flux æ¨¡å‹è¿›è¡Œå›¾åƒç”Ÿæˆã€‚

æˆ‘ä»¬è¿›å…¥ 8188 ç«¯å£çš„ web ui ç•Œé¢ï¼Œé€‰æ‹©å·¦ä¾§çš„â€œå·¥ä½œæµâ€œèœå•ï¼Œæ‰¾åˆ°åä¸ºâ€flux_dev_t5fp8.jsonâ€œçš„å·¥ä½œæµæ–‡ä»¶ï¼Œé¼ æ ‡ç‚¹å‡»ã€‚

![](/assets/LBD7bRxuHojgoxxrVXpcgGPJnbc.png)

éšåï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å·¥ä½œæµå·²ç»è¢«æ­£å¸¸è½½å…¥ ComfyUI äº†ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ‰¾åˆ° promptï¼ˆæç¤ºè¯ï¼‰çš„å¡«å†™èŠ‚ç‚¹ï¼Œè¾“å…¥æˆ‘ä»¬æƒ³è¦ç”Ÿæˆçš„å›¾åƒæè¿°æ–‡æœ¬ã€‚

![](/assets/R4vqbJ31ToIGrdxAo6QcqWmxnBf.png)

å‚è€ƒçš„ prompt å¦‚ä¸‹ï¼ˆFLUX æ¨¡å‹å¯¹è‹±æ–‡æ”¯æŒè¾ƒå¥½ï¼‰ï¼š

> best quality,a cute anime girl,sunshine,soft features,swing,a blue white edged dress,solo,flower,blue eyes,blush,blue flower,long hair,barefoot,sitting,looking at viewer,blue rose,blue theme,rose,light particles,pale skin,blue background,off shoulder,full body,smile,collarbone,long hair,blue hair,vines,plants

ç¨ç­‰ç‰‡åˆ»ï¼Œå³å¯åœ¨åæ–¹çš„â€œä¿å­˜å›¾åƒâ€èŠ‚ç‚¹çœ‹åˆ°åŸºäºæˆ‘ä»¬æç¤ºè¯ç”Ÿæˆçš„å›¾ç‰‡ã€‚å³é”®ç‚¹å‡»å›¾ç‰‡ï¼Œé€‰æ‹©â€œSave Imageâ€å³å¯ä¿å­˜å›¾ç‰‡ã€‚

![](/assets/ZwfCbepCAoOR3WxoIFpcqYLknYe.png)

### 2.7 é€šè¿‡ API çš„å½¢å¼æ¥è°ƒç”¨ comfyui è¿›è¡Œå›¾åƒç”Ÿæˆ

Section titled â€œ2.7 é€šè¿‡ API çš„å½¢å¼æ¥è°ƒç”¨ comfyui è¿›è¡Œå›¾åƒç”Ÿæˆâ€

æˆ‘ä»¬ä¸æ¨èç›´æ¥ä½¿ç”¨ comfyui çš„é»˜è®¤ API æ¥å£ï¼Œå› ä¸ºå¤šèŠ‚ç‚¹æ—¶éœ€è‡ªè¡Œè§£å†³æ— çŠ¶æ€é—®é¢˜ã€‚æ›´æ¨èçš„åšæ³•æ˜¯é€šè¿‡æˆ‘ä»¬æš´éœ²çš„ 3000 ç«¯å£è¿›è¡Œè¯·æ±‚ï¼Œå…¶é€šè¿‡ [comfyui-api](https://github.com/SaladTechnologies/comfyui-api?tab=readme-ov-file) è¿›è¡ŒåŒ…è£…ï¼Œæ”¯æŒé»˜è®¤çš„åŒæ­¥ç”Ÿå›¾è¯·æ±‚å’Œ webhook å®ç°ã€‚

ä»¥ä¸‹ä»¥ POSTMAN ä¸ºä¾‹ï¼Œç®€è¦æè¿°å¦‚ä½•å‘ 3000 ç«¯å£å‘é€å›¾ç‰‡ç”Ÿæˆçš„ API è¯·æ±‚ï¼š

#### 2.7.1 ä¿å­˜é¡µé¢å·¥ä½œæµ

Section titled â€œ2.7.1 ä¿å­˜é¡µé¢å·¥ä½œæµâ€

ç‚¹å‡»â€å¯¼èˆªæ â€”â€”å·¥ä½œæµâ€”â€”å¯¼å‡ºï¼ˆAPIï¼‰â€œèœå•ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨ä¸‹è½½ä¸€ä¸ª json æ–‡ä»¶ã€‚

![](/assets/IBYCbQioeopTerxxQSYc5uWWnYk.png)

#### 2.7.2 æ‰“å¼€ POSTMANï¼Œæ–°å»ºä¸€ä¸ª POST è¯·æ±‚

Section titled â€œ2.7.2 æ‰“å¼€ POSTMANï¼Œæ–°å»ºä¸€ä¸ª POST è¯·æ±‚â€

æ–°å»ºä¸€ä¸ª POST è¯·æ±‚ï¼Œå¹¶å‘½åä¸ºâ€promptâ€œï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![](/assets/ORMlbo6oMoIg5VxZbN4c2EmhnBg.png)

#### 2.7.3 å®Œå–„è¯·æ±‚ä¿¡æ¯

Section titled â€œ2.7.3 å®Œå–„è¯·æ±‚ä¿¡æ¯â€

éœ€è¦å®Œå–„çš„ä¿¡æ¯å¦‚ä¸‹ï¼š

  * **è¯·æ±‚çš„ URL**



åœ¨ 3000 ç«¯å£çš„å›ä¼ é“¾æ¥ååŠ ä¸Šâ€œ/promptâ€çš„è·¯å¾„ï¼Œä¿è¯å…¶æ ¼å¼ç±»ä¼¼äº`https://xxx/prompt`ã€‚

  * **å°†è¯·æ±‚ä½“å‚æ•°æ ¼å¼è®¾ç½®ä¸º raw å’Œ json**



å¦‚å›¾ã€‚

  * **è®¾ç½®å‚æ•°å†…å®¹åŸºæœ¬æ ¼å¼**



å¦‚å›¾ã€‚

![](/assets/Z125btBjNoAinAxW9b1ca0isnxf.png)

#### 2.7.4 å°†æˆ‘ä»¬ä¸‹è½½å¥½çš„å·¥ä½œæµ json æ–‡ä»¶ç²˜è´´ä¸ºå‚æ•°ä¸­`prompt`å­—æ®µçš„å€¼

Section titled â€œ2.7.4 å°†æˆ‘ä»¬ä¸‹è½½å¥½çš„å·¥ä½œæµ json æ–‡ä»¶ç²˜è´´ä¸ºå‚æ•°ä¸­promptå­—æ®µçš„å€¼â€

å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬å°†é¼ æ ‡ç§»åŠ¨è‡³ prompt å­—æ®µçš„å†’å·åï¼Œç²˜è´´å·¥ä½œæµçš„å†…å®¹ã€‚

![](/assets/CGQybO3mcoSBU1xmVGncz7WAnBK.png)

#### 2.7.5 å‘é€è¯·æ±‚

Section titled â€œ2.7.5 å‘é€è¯·æ±‚â€

è¿”å›ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼Œ`images`å­—æ®µåŒ…å«ä¸€ä¸ªå­—ç¬¦æ•°ç»„ï¼Œå…¶ä¸­çš„å…ƒç´ å³ä¸ºç”Ÿæˆå›¾ç‰‡çš„ base64 ç¼–ç ã€‚

![](/assets/OTGlb6mbgovg3UxAimGc5N81nth.png)

## 3 æ„å»º comfyui é•œåƒ

Section titled â€œ3 æ„å»º comfyui é•œåƒâ€

> æ¸©é¦¨æç¤ºï¼Œå¦‚æœä½ åªå¸Œæœ›ä½¿ç”¨æˆ‘ä»¬é»˜è®¤çš„é•œåƒï¼Œé‚£ä¹ˆä¸‹é¢çš„å†…å®¹æ‚¨æ— éœ€å…³æ³¨ã€‚

å¦‚æœæ‚¨å¸Œæœ›æ„å»ºè‡ªå®šä¹‰çš„é•œåƒï¼Œè€Œéä»…ä»…ä½¿ç”¨æˆ‘ä»¬æä¾›çš„é¢„è®¾ Flux é•œåƒï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å‚è€ƒã€‚æ‚¨å¯æ ¹æ®è‡ªèº«éœ€è¦ï¼Œæ·»åŠ éœ€è¦çš„æ¨¡å‹å’Œæ’ä»¶ã€‚

### 3.1 ä¸‹è½½æ¨¡å‹æ–‡ä»¶

Section titled â€œ3.1 ä¸‹è½½æ¨¡å‹æ–‡ä»¶â€

æˆ‘ä»¬æ‰€éœ€çš„æ¨¡å‹æ–‡ä»¶å…±æœ‰å››ä¸ªï¼Œä¸‹è½½é“¾æ¥åˆ†åˆ«å¦‚ä¸‹ï¼Œåˆ†åˆ«å°†å…¶ä¸‹è½½è‡³æœ¬åœ°ï¼š

  * <https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/clip_l.safetensors?download=true>
  * <https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/t5xxl_fp16.safetensors?download=true>
  * <https://huggingface.co/black-forest-labs/FLUX.1-schnell/resolve/main/ae.safetensors?download=true>
  * <https://huggingface.co/black-forest-labs/FLUX.1-dev/resolve/main/flux1-dev.safetensors>



æ³¨æ„ï¼Œå¦‚æœä½ çš„æ˜¾å­˜ä½äº 32GBï¼Œå»ºè®®å°†ä¸Šè¿°æ–‡ä»¶ä¸­çš„ t5xxl_fp16.safetensors æ›¿æ¢ä¸ºä¸‹é¢çš„ä½é…ç‰ˆæ¨¡å‹ t5xxl_fp8_e4m3n.safetensorsï¼ˆåç»­å·¥ä½œæµä¸­å¯¹åº”ä¿®æ”¹ä¸€ä¸‹æ¨¡å‹åå³å¯ï¼‰ï¼Œä¸‹é¢çš„æ¡ˆä¾‹ä¸­æˆ‘ä»¬å°†ä½¿ç”¨ä½é…ç‰ˆæ¨¡å‹ä½œä¸ºç¤ºä¾‹ï¼š

<https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/t5xxl_fp8_e4m3fn.safetensors?download=true>

### 3.2 åˆ›å»º Dockerfile æ–‡ä»¶

Section titled â€œ3.2 åˆ›å»º Dockerfile æ–‡ä»¶â€

ä¸€ä¸ªåˆé€‚çš„ docker åŸºç¡€é•œåƒèƒ½å¸®åŠ©æˆ‘ä»¬èŠ‚çœå¤§é‡çš„æ—¶é—´ï¼ŒåŒæ—¶è¿˜èƒ½å¤§å¤§å‡å°‘æˆ‘ä»¬æ„å»ºå‡ºé”™çš„æ¦‚ç‡ã€‚è¿™é‡Œæˆ‘ä»¬é€‰æ‹©[ comfyui-api ](https://github.com/SaladTechnologies/comfyui-api)å¼€æºåº“çš„å®˜æ–¹é•œåƒä½œä¸ºæˆ‘ä»¬çš„åŸºç¡€é•œåƒï¼Œå…¶é¢„è£…äº† comfyui åŠ comfyui-api ä»¥åŠåŸºç¡€çš„è¿è¡Œç¯å¢ƒä¾èµ–ã€‚

æˆ‘ä»¬æœ€ç»ˆçš„éœ€è¦ Dockerfile æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼Œè¯·æ–°å»ºä¸€ä¸ªåä¸º Dockerfile çš„æ–‡ä»¶ï¼ˆæ³¨æ„æ— åç¼€ï¼‰ï¼Œé€šè¿‡ä»»æ„ç¼–è¾‘å™¨æ‰“å¼€ï¼Œå°†ä¸‹é¢çš„å†…å®¹å¤åˆ¶è¿›å»ã€‚
    
    
    FROM ghcr.io/saladtechnologies/comfyui-api:comfy0.3.29-api1.8.3-torch2.6.0-cuda12.4-runtime
    
    
    
    
    
    
    
    ENV COMFYUI_PORT=8188 \
    
        MODEL_DIR=/opt/ComfyUI/models \
    
        BASE=""
    
    
    
    
    
    
    
    RUN mkdir -p ${MODEL_DIR}/{loras,vaes,text_encoders,diffusion_models}
    
    
    
    
    
    
    
    COPY diffusion_models/*.safetensors ${MODEL_DIR}/diffusion_models/
    
    COPY vae/*.safetensors ${MODEL_DIR}/vae/
    
    COPY text_encoders/*.safetensors ${MODEL_DIR}/text_encoders/
    
    
    
    
    
    
    
    EXPOSE ${COMFYUI_PORT}

### 3.3 åˆ›å»ºç›®å½•

Section titled â€œ3.3 åˆ›å»ºç›®å½•â€

åˆ›å»ºç›®å½•æ˜¯ä¸ºäº†ä¾¿äºæˆ‘ä»¬æŒ‡å®šè·¯å¾„ï¼Œè¯·æŒ‰ç…§ä¸‹é¢çš„è·¯å¾„æ”¾ç½®ä¸Šè¿°çš„æ–‡ä»¶ã€‚

comfyUI/

â””â”€â”€ Dockerfile

â”œâ”€â”€ diffusion_models/

â”‚ â””â”€â”€ flux1-dev.safetensors

â”œâ”€â”€ text_encoders/

â”‚ â”œâ”€â”€ clip_l.safetensors

â”‚ â””â”€â”€ t5xxl_fp8_e4m3fn.safetensors

â”œâ”€â”€ vae/

â”‚ â””â”€â”€ ae.safetensors

### 3.4 æ‰§è¡Œæ„å»º

Section titled â€œ3.4 æ‰§è¡Œæ„å»ºâ€

è¿›å…¥ comfyuiUI ç›®å½•ï¼Œæ‰“å¼€æ§åˆ¶å°ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼ˆå¯æ ¹æ®éœ€è¦è‡ªè¡Œä¿®æ”¹æ ‡ç­¾å’Œé•œåƒåï¼‰ï¼š
    
    
    docker build -t comfyui-flux:0.1 .

è€å¿ƒç­‰å¾…æ„å»ºå®Œæ¯•ï¼Œæœ€ç»ˆç”Ÿæˆçš„é•œåƒä½“ç§¯çº¦ 42GBã€‚

### 3.5 æœ¬åœ°æµ‹è¯•ï¼ˆæ¨èï¼‰

Section titled â€œ3.5 æœ¬åœ°æµ‹è¯•ï¼ˆæ¨èï¼‰â€

è™½ç„¶å³ä½¿ä¸ç»è¿‡æœ¬åœ°æµ‹è¯•ä¹Ÿå¯ä»¥ç›´æ¥ä¸Šä¼ ä½¿ç”¨ï¼Œä½†æœ¬åœ°æµ‹è¯•å¯ä»¥æ›´å¿«çš„é¢„è§ˆé•œåƒæ„å»ºæ•ˆæœï¼Œè¿˜èƒ½æå‰æ’é™¤å¯èƒ½çš„ä¸€äº›é—®é¢˜ï¼Œé¿å…æ„å»ºè¿‡ç¨‹ä¸­çš„é”™è¯¯åœ¨ä¸Šä¼ è¿œç¨‹ä»“åº“åæ‰å‘ç°ã€‚

æˆ‘ä»¬å¯ä»¥åœ¨ä»»æ„ä½ç½®æ‰“å¼€æ§åˆ¶å°ï¼Œé”®å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š
    
    
    docker run --rm --gpus all -p 3000:3000 comfyui-flux:0.1

å½“å®¹å™¨è¿è¡Œå®Œæ¯•åï¼Œï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ API æ¥åˆ¤æ–­å…¶æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚

#### 3.5.1 è·å– API æ–‡æ¡£

Section titled â€œ3.5.1 è·å– API æ–‡æ¡£â€

æˆ‘ä»¬å¯ä»¥æ‰“å¼€æµè§ˆå™¨ï¼Œç½‘å€æ è¾“å…¥`http://localhost:3000/docs`ï¼Œå³å¯æ‰“å¼€é»˜è®¤çš„ comfyui-api åŸºäº swagger çš„æ–‡æ¡£é¡µé¢ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![](/assets/PUrYbjphJof9DZxHgB6cvmmwnBh.png)

å…¶ä¸­ä»‹ç»äº†æˆ‘ä»¬å¯ä»¥ä½¿ç”¨çš„ 4 ä¸ªå¸¸ç”¨æ–¹æ³•ï¼Œå¯è‡ªè¡Œäº†è§£è¯¦æƒ…ã€‚

#### 3.5.2 æµ‹è¯•ç”Ÿå›¾æ¥å£

Section titled â€œ3.5.2 æµ‹è¯•ç”Ÿå›¾æ¥å£â€

æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦æµ‹è¯•é•œåƒå®¹å™¨çš„ç”Ÿå›¾åŠŸèƒ½â€”â€”å½“ç„¶ä¹Ÿæ˜¯æœ€é‡è¦çš„åŠŸèƒ½ã€‚è¿™ä¸€æ­¥æ¨èä½¿ç”¨ PostMan è¿™ç±» API æµ‹è¯•å·¥å…·ï¼Œä»¥ä¸‹å°†ä»¥ PostMan ä½œä¸ºç¤ºä¾‹ï¼š

##### 3.5.2.1 åˆ›å»ºè¯·æ±‚

Section titled â€œ3.5.2.1 åˆ›å»ºè¯·æ±‚â€

æ–°å»ºä¸€ä¸ªè¯·æ±‚ï¼Œå°†å…¶è¯·æ±‚æ–¹æ³•è®¾ç½®ä¸º POSTï¼Œå¹¶é”®å…¥`http://localhost:3000/prompt`ä½œä¸ºè¯·æ±‚çš„ URLã€‚

##### 3.5.2.2 é€‰æ‹©å‚æ•°

Section titled â€œ3.5.2.2 é€‰æ‹©å‚æ•°â€

æ‰¾åˆ°ä¸‹æ–¹çš„`body`æ ï¼Œç‚¹å‡»`raw`ä¸€é¡¹ï¼Œå¹¶é€‰æ‹©å³ä¾§çš„ç±»å‹ä¸º`JSON`ã€‚åœ¨ä¸‹æ–¹é”®å…¥æˆ‘ä»¬çš„ JSON å‚æ•°ã€‚

æˆ‘ä»¬æ‰€éœ€çš„å‚æ•°å¦‚ä¸‹ï¼Œprompt å¯¹åº”çš„æ˜¯ comfyui çš„å·¥ä½œæµå†…å®¹ï¼ˆAPI å½¢å¼ï¼‰å¦‚æœæœ‰è‡ªå®šä¹‰éœ€è¦ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¿®æ”¹å…¶ä¸­çš„å‚æ•°å€¼ã€‚

![](/assets/HZ9MbyIQGoRHiKx4ocMcHd0Xntb.png)
    
    
    {
    
      "prompt":{
    
        "8": {
    
          "inputs": {
    
            "samples": [
    
              "40",
    
              0
    
            ],
    
            "vae": [
    
              "10",
    
              0
    
            ]
    
          },
    
          "class_type": "VAEDecode",
    
          "_meta": {
    
            "title": "VAEè§£ç "
    
          }
    
        },
    
        "10": {
    
          "inputs": {
    
            "vae_name": "ae.safetensors"
    
          },
    
          "class_type": "VAELoader",
    
          "_meta": {
    
            "title": "åŠ è½½VAE"
    
          }
    
        },
    
        "11": {
    
          "inputs": {
    
            "clip_name1": "t5xxl_fp8_e4m3fn.safetensors",
    
            "clip_name2": "clip_l.safetensors",
    
            "type": "flux",
    
            "device": "default"
    
          },
    
          "class_type": "DualCLIPLoader",
    
          "_meta": {
    
            "title": "åŒCLIPåŠ è½½å™¨"
    
          }
    
        },
    
        "17": {
    
          "inputs": {
    
            "scheduler": "normal",
    
            "steps": 25,
    
            "denoise": 1,
    
            "model": [
    
              "46",
    
              0
    
            ]
    
          },
    
          "class_type": "BasicScheduler",
    
          "_meta": {
    
            "title": "åŸºæœ¬è°ƒåº¦å™¨"
    
          }
    
        },
    
        "38": {
    
          "inputs": {
    
            "model": [
    
              "46",
    
              0
    
            ],
    
            "conditioning": [
    
              "42",
    
              0
    
            ]
    
          },
    
          "class_type": "BasicGuider",
    
          "_meta": {
    
            "title": "åŸºæœ¬å¼•å¯¼å™¨"
    
          }
    
        },
    
        "39": {
    
          "inputs": {
    
            "filename_prefix": "FluxEz",
    
            "images": [
    
              "8",
    
              0
    
            ]
    
          },
    
          "class_type": "SaveImage",
    
          "_meta": {
    
            "title": "ä¿å­˜å›¾åƒ"
    
          }
    
        },
    
        "40": {
    
          "inputs": {
    
            "noise": [
    
              "45",
    
              0
    
            ],
    
            "guider": [
    
              "38",
    
              0
    
            ],
    
            "sampler": [
    
              "47",
    
              0
    
            ],
    
            "sigmas": [
    
              "17",
    
              0
    
            ],
    
            "latent_image": [
    
              "44",
    
              0
    
            ]
    
          },
    
          "class_type": "SamplerCustomAdvanced",
    
          "_meta": {
    
            "title": "è‡ªå®šä¹‰é‡‡æ ·å™¨ï¼ˆé«˜çº§ï¼‰"
    
          }
    
        },
    
        "42": {
    
          "inputs": {
    
            "guidance": 3.5,
    
            "conditioning": [
    
              "43",
    
              0
    
            ]
    
          },
    
          "class_type": "FluxGuidance",
    
          "_meta": {
    
            "title": "Fluxå¼•å¯¼"
    
          }
    
        },
    
        "43": {
    
          "inputs": {
    
            "text": "beautiful photography of a gonger haired artist with Lots of Colorful coloursplashes in face and pn her hands, she is natural, having her hair in a casual bun, looking happily into camera, cinematic,",
    
            "clip": [
    
              "11",
    
              0
    
            ]
    
          },
    
          "class_type": "CLIPTextEncode",
    
          "_meta": {
    
            "title": "CLIPæ–‡æœ¬ç¼–ç "
    
          }
    
        },
    
        "44": {
    
          "inputs": {
    
            "width": 1024,
    
            "height": 1024,
    
            "batch_size": 1
    
          },
    
          "class_type": "EmptySD3LatentImage",
    
          "_meta": {
    
            "title": "ç©ºLatentå›¾åƒï¼ˆSD3ï¼‰"
    
          }
    
        },
    
        "45": {
    
          "inputs": {
    
            "noise_seed": 454905699352480
    
          },
    
          "class_type": "RandomNoise",
    
          "_meta": {
    
            "title": "éšæœºå™ªæ³¢"
    
          }
    
        },
    
        "46": {
    
          "inputs": {
    
            "max_shift": 1.15,
    
            "base_shift": 0.5,
    
            "width": 1024,
    
            "height": 1024,
    
            "model": [
    
              "48",
    
              0
    
            ]
    
          },
    
          "class_type": "ModelSamplingFlux",
    
          "_meta": {
    
            "title": "é‡‡æ ·ç®—æ³•ï¼ˆFluxï¼‰"
    
          }
    
        },
    
        "47": {
    
          "inputs": {
    
            "sampler_name": "euler"
    
          },
    
          "class_type": "KSamplerSelect",
    
          "_meta": {
    
            "title": "Ké‡‡æ ·å™¨é€‰æ‹©"
    
          }
    
        },
    
        "48": {
    
          "inputs": {
    
            "unet_name": "flux1-dev.safetensors",
    
            "weight_dtype": "default"
    
          },
    
          "class_type": "UNETLoader",
    
          "_meta": {
    
            "title": "UNetåŠ è½½å™¨"
    
          }
    
        }
    
      }
    
    }

##### 3.5.2.3 å‘é€è¯·æ±‚

Section titled â€œ3.5.2.3 å‘é€è¯·æ±‚â€

è¯·æ±‚è¿”å›çš„ç»“æœåº”è¯¥å¦‚ä¸‹ï¼š
    
    
    {
    
        "id": "63c4114c-108a-4178-a37b-e53334607805",
    
        "prompt"://ä½ çš„å·¥ä½œæµå‚æ•°,
    
        "images": []//è¿”å›çš„å›¾ç‰‡æ•°ç»„,
    
    }

### 3.6 æ¨é€é•œåƒåˆ°å¹³å°

Section titled â€œ3.6 æ¨é€é•œåƒåˆ°å¹³å°â€

è¿™ä¸€æ­¥ä¼šå°†ä¸Šä¸€æ­¥ä¸­è‡ªå®šä¹‰çš„é•œåƒä¸Šä¼ åˆ°æˆ‘ä»¬çš„é•œåƒä»“åº“æœåŠ¡ä¸­ã€‚è¯·å‚è€ƒæ–‡æ¡£è¿›è¡Œï¼š<https://www.gongjiyun.com/docs/y/nnnkwiwlkid3m1ksgxdcrvsknrj/rkicwd7zqi39lmkti9gc5pcungb/>
