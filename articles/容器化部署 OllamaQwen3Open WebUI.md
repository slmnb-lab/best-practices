# å®¹å™¨åŒ–éƒ¨ç½² Ollama+Qwen3+Open WebUI

æœ¬æŒ‡å—å…¨é¢ä»‹ç»äº†åœ¨å…±ç»©ç®—åŠ›å¹³å°ä¸Šéƒ¨ç½² Ollama ä¸ Qwen3 å¤§è¯­è¨€æ¨¡å‹ï¼Œé€šè¿‡ WebUI è®¿é—®çš„å®Œæ•´è§£å†³æ–¹æ¡ˆã€‚è¯¥æ–¹æ¡ˆä¸ä»…æä¾›äº†è¯¦å®çš„éƒ¨ç½²æµç¨‹ï¼Œè¿˜æä¾›äº†å¦‚ä½•åˆ¶ä½œé•œåƒçš„æ–¹æ¡ˆã€‚

ğŸ‹

æ­¤é•œåƒæä¾›äº†æ ‡å‡†åŒ–çš„**** API æ¥å£ï¼ŒåŒæ—¶æä¾›äº† WebUI çš„æ–¹å¼ä¸å¤§æ¨¡å‹è¿›è¡Œäº¤äº’ã€‚

## **1ã€éƒ¨ç½²æœåŠ¡**

Section titled â€œ1ã€éƒ¨ç½²æœåŠ¡â€

ç‚¹å‡»è¿™é‡Œã€[æ–°å¢éƒ¨ç½²ä»»åŠ¡](https://console.suanli.cn/serverless/create)ã€‘ï¼Œç™»å½•åæ ¹æ®é¡µé¢æç¤ºè¿›è¡Œéƒ¨ç½²ã€‚ã€é€‰æ‹© GPU å‹å·ã€‘â€”>åœ¨ã€æœåŠ¡é…ç½®ã€‘ä¸­é€‰æ‹©ã€é¢„åˆ¶é•œåƒã€‘â€”>å‹¾é€‰ã€æœåŠ¡åè®®ã€‘â€”>ç‚¹å‡»ã€éƒ¨ç½²æœåŠ¡ã€‘â€”>éƒ¨ç½²å®Œæˆï¼Œç­‰å¾…é•œåƒæ‹‰å–ï¼

### 1.1 è®¿é—®å…±ç»©ç®—åŠ›æ§åˆ¶å° [https://console.suanli.cnï¼Œç‚¹å‡»ã€æ–°å¢éƒ¨ç½²ä»»åŠ¡ã€‘ã€‚](https://console.suanli.cn%EF%BC%8C%E7%82%B9%E5%87%BB%E3%80%90%E6%96%B0%E5%A2%9E%E9%83%A8%E7%BD%B2%E4%BB%BB%E5%8A%A1%E3%80%91%E3%80%82)

Section titled â€œ1.1 è®¿é—®å…±ç»©ç®—åŠ›æ§åˆ¶å° https://console.suanli.cnï¼Œç‚¹å‡»ã€æ–°å¢éƒ¨ç½²ä»»åŠ¡ã€‘ã€‚â€

![](https://www.gongjiyun.com/assets/UfxEbWfdSoLlqsxPuL1cqPC5nNh.png)

### 1.2 é€‰æ‹©è®¾å¤‡

Section titled â€œ1.2 é€‰æ‹©è®¾å¤‡â€

åŸºäºè‡ªèº«éœ€è¦è¿›è¡Œé…ç½®ï¼Œå‚è€ƒé…ç½®ä¸ºå•å¡ 4090 å’Œ 1 ä¸ªèŠ‚ç‚¹ï¼ˆåˆæ¬¡ä½¿ç”¨è¿›è¡Œè°ƒè¯•ï¼‰ã€‚

![](https://www.gongjiyun.com/assets/OLI5bHiqIoTFPGx47NScHoxDnkf.png)

### 1.3 é€‰æ‹©ç›¸åº”é¢„åˆ¶é•œåƒ

Section titled â€œ1.3 é€‰æ‹©ç›¸åº”é¢„åˆ¶é•œåƒâ€

è¿™é‡Œé€‰æ‹© **Open Web UI + Qwen3 30Bï¼Œ** åŒæ„åè®®ï¼Œç‚¹å‡»ã€éƒ¨ç½²æœåŠ¡ã€‘ã€‚

![](https://www.gongjiyun.com/assets/UCPfbJEfIo70sgxlvlIckc9Fnic.png)

### 1.4 è€å¿ƒç­‰å¾…èŠ‚ç‚¹æ‹‰å–é•œåƒå¹¶å¯åŠ¨

Section titled â€œ1.4 è€å¿ƒç­‰å¾…èŠ‚ç‚¹æ‹‰å–é•œåƒå¹¶å¯åŠ¨â€

![](https://www.gongjiyun.com/assets/Fpa2brKJcoEiOqxpy1wcZhhBnwf.png)

### 1.5 éƒ¨ç½²å®Œæˆ

Section titled â€œ1.5 éƒ¨ç½²å®Œæˆâ€

åœ¨éƒ¨ç½²å®Œæˆé¡µé¢ï¼Œèƒ½çœ‹åˆ°ä¸¤ä¸ªè®¿é—®é“¾æ¥ï¼Œ

  * 11434 å¯¹åº”çš„é“¾æ¥å°±æ˜¯ Ollama æœåŠ¡çš„ API è®¿é—®åœ°å€ã€‚å°†è¿™ä¸ª API åœ°å€ã€å¤åˆ¶ã€‘ä¸‹æ¥ï¼Œå°±å¯ä»¥åœ¨ä»»ä½•æ”¯æŒ Ollama åè®®çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ã€‚
  * 8080 å¯¹åº”çš„é“¾æ¥å°±æ˜¯ Open WebUI çš„è®¿é—®åœ°å€

![](https://www.gongjiyun.com/assets/BGosbKUzcof50axc8DccMrQXnfE.png)

> è¯·è€å¿ƒä¸€ç‚¹ï½ï½ æ¨¡å‹é•œåƒä¼šæ¯”è¾ƒå¤§ï¼Œ**qwen3:30b-a3b é•œåƒæœ¬èº« 20G+ï¼Œæ‰“åŒ…ä¹‹åå¤§çº¦ 30G+ï¼Œ** æ‹‰å–é•œåƒä¼šéœ€è¦ä¸€æ®µæ—¶é—´

### 1.6 å¦‚ä½•åˆ‡æ¢æ¨¡å‹

Section titled â€œ1.6 å¦‚ä½•åˆ‡æ¢æ¨¡å‹â€

é€šè¿‡ä¿®æ”¹ Docker é•œåƒçš„ç¯å¢ƒå˜é‡ï¼Œæ‚¨å¯ä»¥è½»æ¾åˆ‡æ¢ä¸åŒçš„ AI æ¨¡å‹ã€‚

æ‰¾åˆ°ä»»åŠ¡åˆ—è¡¨ï¼Œé€‰æ‹©åˆšåˆšåˆ›å»ºçš„ä»»åŠ¡ï¼Œç‚¹å‡»è·³è½¬åˆ°è¯¦æƒ…é¡µé¢

![](https://www.gongjiyun.com/assets/UrTXbAsEco6s9bxGssJc3wSFnOc.png)

  1. è¿›å…¥ç¯å¢ƒå˜é‡è®¾ç½®é¡µé¢
  2. æ‰¾åˆ°è¾“å…¥æ¡†ï¼Œè¾“å…¥ä»¥ä¸‹æ ¼å¼çš„ç¯å¢ƒå˜é‡ï¼š 




DEFAULT_MODEL=æ¨¡å‹åç§°
    
    
        ä¾‹å¦‚ï¼Œè¦åˆ‡æ¢åˆ°Qwen 3.0 32Bæ¨¡å‹ï¼Œè¾“å…¥ï¼š
    
        ```text
    
    DEFAULT_MODEL=qwen3:32b

  3. ç‚¹å‡»ã€ä¿å­˜ã€‘æŒ‰é’®
  4. ç‚¹å‡»ã€**åº”ç”¨ä¿®æ”¹ã€‘** æŒ‰é’®ä½¿æ–°è®¾ç½®**ç”Ÿæ•ˆ**



é‡è¦æç¤ºï¼š

  * ç¯å¢ƒå˜é‡ä¿®æ”¹åå¿…é¡»ç‚¹å‡»ã€åº”ç”¨ä¿®æ”¹ã€‘æŒ‰é’®æ‰èƒ½ç”Ÿæ•ˆ
  * å¯ç”¨çš„æ¨¡å‹åç§°è¯·å‚è€ƒ [Ollamaå®˜æ–¹æ¨¡å‹åº“](https://ollama.com/library)
  * ç¡®ä¿è¾“å…¥çš„æ¨¡å‹åç§°æ ¼å¼æ­£ç¡®ï¼Œé€šå¸¸ä¸º æ¨¡å‹ç³»åˆ—:å‚æ•°è§„æ¨¡ çš„å½¢å¼

![](https://www.gongjiyun.com/assets/JfkDbvDhboztbJxc5lrceOisnhh.png)

## 2ã€å¼€å§‹ä½¿ç”¨ Open WebUI

Section titled â€œ2ã€å¼€å§‹ä½¿ç”¨ Open WebUIâ€

### 2.1 è®¿é—®å¼€å§‹é¡µé¢

Section titled â€œ2.1 è®¿é—®å¼€å§‹é¡µé¢â€

è®¿é—® 8080 ç«¯å£å¯¹åº”çš„é“¾æ¥ï¼Œä¼šå‡ºç°ä»¥ä¸‹ç•Œé¢ï¼Œè¯´æ˜ Open WebUI å·²ç»æˆåŠŸéƒ¨ç½²ã€‚ç‚¹å‡»ã€å¼€å§‹ä½¿ç”¨ã€‘

![](https://www.gongjiyun.com/assets/IhKGbh6fNoERFpxGApCceugPnmb.png)

### 2.2 è®¾ç½®ç®¡ç†å‘˜è´¦å·

Section titled â€œ2.2 è®¾ç½®ç®¡ç†å‘˜è´¦å·â€

è®¾ç½®ç®¡ç†å‘˜è´¦å·å’Œå¯†ç ï¼Œç‚¹å‡»ã€åˆ›å»ºç®¡ç†å‘˜è´¦å·ã€‘

![](https://www.gongjiyun.com/assets/G6OMbqDx3onrsnxtitjc6r5OnMc.png)

### 2.3 å¼€å§‹ AI å¯¹è¯

Section titled â€œ2.3 å¼€å§‹ AI å¯¹è¯â€

åˆ›å»ºç®¡ç†å‘˜è´¦å·ä¹‹åä¼šè‡ªåŠ¨ç™»å½•ï¼Œé»˜è®¤ä¼šé€‰ä¸­é•œåƒä¸­çš„æ¨¡å‹ **qwen3:30b-a3b** ï¼Œå°±æ˜¯åˆ¶ä½œé•œåƒæ—¶è®¾ç½®çš„é•œåƒåç§°ã€‚

ç°åœ¨ä¸€èµ·å°±ç»ªï¼Œå¼€å§‹ä¸ AI çš„å¯¹è¯ä¹‹æ—…å§ï½ï½ï½

![](https://www.gongjiyun.com/assets/F680bEDozoQjp5xE2AncM5CTnGe.png)

## 3ã€ æ¨¡å‹é€Ÿåº¦æµ‹è¯•

Section titled â€œ3ã€ æ¨¡å‹é€Ÿåº¦æµ‹è¯•â€

qwen3 éƒ¨ç½²å®Œæˆäº†ï¼Œé€Ÿåº¦æ€ä¹ˆæ ·å‘¢ï¼Ÿç‚¹å‡» [LM Speed](https://lmspeed.net/zh-CN) æµ‹è¯•ä¸€ä¸‹é€Ÿåº¦å§ï½ï½ï½

![](https://www.gongjiyun.com/assets/NZm7bCi1YodBh3xbNCscHhlqnqb.png)

## **4ã€****æœ¬åœ°****æ‰“åŒ… Ollama å’Œ Open WebUI é•œåƒ**

Section titled â€œ4ã€æœ¬åœ°æ‰“åŒ… Ollama å’Œ Open WebUI é•œåƒâ€

> æ¸©é¦¨æç¤ºï¼Œå¦‚æœä½ åªå¸Œæœ›ä½¿ç”¨æˆ‘ä»¬é»˜è®¤çš„é•œåƒï¼Œé‚£ä¹ˆä¸‹é¢çš„å†…å®¹æ‚¨æ— éœ€å…³æ³¨ã€‚

### 4.1 clone é¡¹ç›®

Section titled â€œ4.1 clone é¡¹ç›®â€

Terminal window
    
    
    git clone https://github.com/slmnb-lab/llm-deployment.git

### 4.2 ä¿®æ”¹é•œåƒä»“åº“åœ°å€å

Section titled â€œ4.2 ä¿®æ”¹é•œåƒä»“åº“åœ°å€åâ€

> å¼€å§‹ä¹‹å‰éœ€è¦åœ¨ suanli.cn ä¸­åˆ›å»ºä¸€ä¸ªé•œåƒä»“åº“ï¼Œé•œåƒä»“åº“åç§°ä¸º `{yourusername}`ï¼Œé•œåƒæ ‡ç­¾ä¸º `30b-a3b`ã€‚è®¿é—®è¿™é‡Œ [åˆå§‹åŒ–é•œåƒä»“åº“](https://console.suanli.cn/serverless/image)

> `harbor.suanleme.cn/{yourusername}/ollama-webui-qwen3:30b-a3b` æ˜¯ <https://www.gongjiyun.com/> ä¸­åˆ›å»ºçš„é•œåƒä»“åº“åœ°å€ï¼Œè¿™ä¸ªå‚æ•°åœ¨éƒ¨ç½²æœåŠ¡çš„æ—¶å€™ä¼šç”¨åˆ°ï¼Œè®°å¾—æ›¿æ¢æˆä½ çš„é•œåƒä»“åº“åœ°å€ã€‚
    
    
    services:
    
      ollama-webui-qwen3:
    
        image: harbor.suanleme.cn/{yourusername}/ollama-webui-qwen3:30b-a3b  ## è¿™é‡Œæ˜¯ www.gongjiyun.com ä¸­åˆ›å»ºçš„é•œåƒä»“åº“åœ°å€  harbor.suanleme.cn æ˜¯ä»“åº“åœ°å€ {yourusername} æ˜¯è´¦å·åç§° ollama-webui-qwen3 æ˜¯é•œåƒåç§° 30b-a3b æ˜¯é•œåƒæ ‡ç­¾
    
        build: .
    
        labels:
    
          - suanleme_0.http.port=11434                   # è¿™é‡Œæ˜¯ ollama è¿è¡Œçš„ç«¯å£ï¼Œä¸è¦ä¿®æ”¹
    
          - suanleme_0.http.prefix=ollama-webui-qwen3     # è¿™é‡Œæ˜¯å‘å¸ƒåˆ°çš„ suanli.cn çš„å›ä¼ åŸŸå
    
        restart: unless-stopped
    
        deploy:
    
          resources:
    
            reservations:
    
              devices:
    
                - driver: nvidia
    
                  count: all
    
                  capabilities: [gpu]
    
        ports:
    
          - "11434:11434"                        # è¿™é‡Œæ˜¯ollamaè¿è¡Œçš„ç«¯å£ï¼Œä¸è¦ä¿®æ”¹
    
          - "8080:8080"                          # è¿™é‡Œæ˜¯open webuiè¿è¡Œçš„ç«¯å£ï¼Œä¸éœ€è¦ä¿®æ”¹

### 4.3 è¿è¡Œæ‰“åŒ…è„šæœ¬

Section titled â€œ4.3 è¿è¡Œæ‰“åŒ…è„šæœ¬â€

æ‰§è¡ŒæˆåŠŸä¹‹åï¼Œä¼šåœ¨æœ¬åœ°ç”Ÿæˆé•œåƒ

Terminal window
    
    
    cd llm-deployment/ollama-webui   # è¿›å…¥ ollama ç›®å½•
    
    docker compose build       # æ‰“åŒ…é•œåƒ

## **5ã€é•œåƒä¸Šä¼ **

Section titled â€œ5ã€é•œåƒä¸Šä¼ â€

å°†æ‰“åŒ…çš„é•œåƒä¸Šä¼ åˆ°**å…±ç»©ç®—åŠ›** çš„é•œåƒä»“åº“

### 5.1 ç™»å½•é•œåƒä»“åº“

Section titled â€œ5.1 ç™»å½•é•œåƒä»“åº“â€

username éœ€è¦æ›¿æ¢ä¸ºè‡ªå·±çš„å…±ç»©ç®—åŠ›ã€**é•œåƒä»“åº“****ã€‘** çš„ã€**ä»“åº“è´¦å·ã€‘** ï¼

è¾“å…¥å¯†ç éœ€è¦è¾“å…¥[åˆå§‹åŒ–é•œåƒä»“åº“](https://console.suanli.cn/serverless/image) æ—¶è®¾ç½®çš„å¯†ç 

Terminal window
    
    
    ### harbor.suanleme.cn æ˜¯å›ºå®šå€¼ï¼Œ{yourusername}éœ€è¦æ›¿æ¢ä¸ºè‡ªå·±çš„é•œåƒä»“åº“çš„ç”¨æˆ·åï¼
    
    docker login harbor.suanleme.cn --username={yourusername}
    
    
    
    
    ## è¾“å…¥å¯†ç   é•œåƒä»“åº“çš„å¯†ç ï¼
    
    *******

### 5.2 ä¸Šä¼ é•œåƒ

Section titled â€œ5.2 ä¸Šä¼ é•œåƒâ€

æ‰§è¡Œä»¥ä¸‹ä»£ç ï¼Œè¿›è¡Œé•œåƒä¸Šä¼ 

Terminal window
    
    
    ## ä¸ºæ–°ç”Ÿæˆçš„é•œåƒæ‰“ä¸Šæ ‡ç­¾
    
    docker tag harbor.suanleme.cn/{yourusername}/ollama-webui-qwen3:30b-a3b harbor.suanleme.cn/{yourusername}/ollama-webui-qwen3:30b-a3b
    
    
    
    
    ## ä¸Šä¼ é•œåƒ
    
    docker push harbor.suanleme.cn/{yourusername}/ollama-webui-qwen3:30b-a3b

> å¤‡æ³¨ï¼šé•œåƒæ¯”è¾ƒå¤§ï¼Œå¦‚æœæ¨é€å¤±è´¥äº†ï¼Œå¤šè¯•å‡ æ¬¡å°±å¥½äº†ã€‚:-(
